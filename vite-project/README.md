# 系统监控 Web 面板

## 设计说明

本项目基于 Vue 3 + Vite + TypeScript 构建深色主题系统监控 Web 面板，数据来源为本地模拟数据流。界面采用蓝黑系深色风格，使用 CSS 变量统一管理主题。系统包含顶部控制台、任务管理侧栏、系统状态监控区与主数据可视化区域，支持实时监控、暂停/恢复、历史回放与多维度切换。

开发过程中使用 AI 编程助手 Cline，接入 GLM-4.6 模型，辅助完成组件设计、状态管理与 ECharts 配置。通过该过程提升了复杂前端系统的模块化拆分能力与数据驱动可视化设计能力。

### 技术选型
- **前端框架**: Vue 3 (Composition API)
- **构建工具**: Vite
- **图表库**: ECharts + vue-echarts
- **样式方案**: CSS Variables + 原生 CSS
- **类型系统**: TypeScript
- **状态管理**: 本地状态管理 + Computed Properties

### AI 使用方式
本项目使用 AI 辅助开发，主要应用于：
1. 组件架构设计和代码生成
2. TypeScript 类型定义优化
3. ECharts 配置和主题定制
4. 响应式布局实现
5. 性能优化建议

### 关键收获
1. Vue 3 Composition API 的最佳实践
2. ECharts 深色主题定制技巧
3. 实时数据流的性能优化
4. 组件化开发的模块化设计
5. TypeScript 在大型项目中的应用

## 运行说明

### 环境要求
- Node.js >= 16.0.0
- npm >= 7.0.0

### 安装依赖
```bash
npm install
```

### 本地启动
```bash
npm run dev
```
应用将在 `http://localhost:5173` 启动

### 构建生产版本
```bash
npm run build
```

### 预览生产版本
```bash
npm run preview
```

## 功能特性

### 1. 总体布局
- **响应式设计**: 支持桌面端 (≥1280px) 和平板端 (≥1024px)
- **顶部控制台**: 固定高度 60px，包含全局控制按钮和搜索功能
- **左侧边栏**: 固定宽度 300px，展示任务管理和告警记录
- **右上系统状态区**: 占右侧区域上部 30%，显示核心指标
- **右侧主可视化区**: 占右侧剩余空间，展示各类图表

### 2. 视觉主题
- **深色主题**: 蓝黑系配色方案，适合运维监控场景
- **主题切换**: 支持深色/浅色主题一键切换
- **CSS Variables**: 便于主题定制和维护

### 3. 核心功能

#### 控制台功能
- **数据流控制**: 启动/暂停实时数据更新
- **数据刷新**: 手动刷新所有数据
- **主题切换**: 深色/浅色主题切换
- **实时搜索**: 按服务器名/任务名/集群过滤数据

#### 任务管理面板
- **任务列表**: 显示任务名、目标集群、执行状态
- **进度显示**: 可视化进度条 (0-100%)
- **状态管理**: 排队中/运行中/失败/已完成四种状态
- **交互反馈**: 点击任务显示详细信息

#### 系统状态监控
- **核心指标**: CPU、内存、磁盘、网络 I/O、平均负载
- **健康度评估**: 基于阈值的实时健康状态判断
- **负载均衡**: 网络流量分布分析和告警
- **状态指示**: 红黄绿三色健康度指示器

#### 数据可视化中心
- **时序图表**: CPU、内存、磁盘使用率历史趋势
- **仪表盘**: 当前资源使用率实时显示
- **柱状图**: 服务器负载分布对比
- **饼图**: 区域流量分布统计
- **多维切换**: 按服务器/区域/服务类型切换视图
- **历史回放**: 支持 1-15 分钟历史数据回看

### 4. 数据模拟
- **模拟数据**: 本地生成 CPU、内存、磁盘、网络等指标
- **实时更新**: 每秒更新一次数据
- **历史记录**: 保留 5 分钟历史数据 (300 个数据点)
- **告警生成**: 随机生成异常告警事件
- **任务进度**: 模拟任务执行进度变化

### 5. 性能特性
- **虚拟滚动**: 大数据量时的性能优化
- **响应式更新**: 基于 Vue 3 的响应式系统
- **图表优化**: ECharts 的性能调优配置
- **内存管理**: 自动清理历史数据防止内存泄漏

## 项目结构

```
src/
├── components/           # Vue 组件
│   ├── TopControlBar.vue    # 顶部控制栏
│   ├── LeftSidebar.vue       # 左侧边栏
│   ├── SystemStatus.vue     # 系统状态区
│   └── VisualizationArea.vue # 可视化区域
├── services/            # 服务层
│   └── dataService.ts      # 数据模拟服务
├── style.css           # 全局样式
├── App.vue            # 根组件
└── main.ts           # 应用入口
```

## 快捷键

目前应用支持以下交互操作：
- **点击任务**: 查看任务详情
- **搜索框**: 实时过滤数据
- **主题切换**: 切换深色/浅色主题
- **数据流控制**: 启动/暂停实时更新

## 浏览器兼容性

- Chrome >= 88
- Firefox >= 78
- Safari >= 14
- Edge >= 88

## 开发注意事项

1. **数据更新频率**: 默认每秒更新，可根据需要调整间隔
2. **历史数据量**: 默认保留 5 分钟，可调整 `historySize` 参数
3. **告警频率**: 默认 2% 概率生成新告警，可调整概率值
4. **主题定制**: 修改 CSS Variables 即可自定义主题
5. **图表配置**: ECharts 配置在对应组件中，可根据需求调整

## 故障排除

### 常见问题

1. **图表不显示**
   - 检查 ECharts 依赖是否正确安装
   - 确认浏览器控制台是否有错误信息

2. **数据不更新**
   - 检查数据流是否处于启动状态
   - 确认 `setInterval` 是否正常工作

3. **样式异常**
   - 检查 CSS Variables 是否正确加载
   - 确认浏览器是否支持 CSS 自定义属性

4. **TypeScript 错误**
   - 运行 `npm run build` 检查类型错误
   - 确认所有导入路径正确

## 许可证

MIT License
